{"version":3,"sources":["webpack:///webpack/bootstrap e5945dd9d3e2910544bf","webpack:///./index.js","webpack:///./block.js"],"names":["__","wp","i18n","blocks","registerBlockType","createBlock","title","icon","category","attributes","id","type","url","alt","containerHeight","default","startPosition","gracefulFailure","failureMessage","displayMeta","supports","html","transforms","from","tag","shortcode","named","height","graceful_failure","failure_message","failure_message_insert","meta","minimum_overflow","start_position","edit","save","Component","element","ImagePlaceholder","BlockControls","MediaUpload","InspectorControls","components","Button","Toolbar","IconButton","RangeControl","ToggleControl","TextControl","PanelBody","Dashicon","Tooltip","withAPIData","Placeholder","PanoramaBlock","arguments","setImageData","bind","onSelectImage","onChangeMediaAlt","onChangeMediaTitle","onChangeContainerHeight","onChangeStartPosition","onChangeGracefulFailure","onChangeFailureMessage","onChangeDisplayMeta","prevProps","prevState","image","props","data","setAttributes","source_url","alt_text","rendered","media","Number","position","message","isSelected","className","panoramaStyle","isLoading","controls","open"],"mappings":"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","file":"block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e5945dd9d3e2910544bf","const { __ } = wp.i18n;\n\nconst {\n  registerBlockType,\n  createBlock\n} = wp.blocks;\n\nimport PanoramaBlock from './block';\n\nregisterBlockType( 'easy-panorama/block', {\n  title: __( 'Panorama' ),\n  icon: 'format-image',\n  category: 'layout',\n  attributes: {\n    id: {\n      type: 'number',\n    },\n    url: {\n      type: 'string',\n    },\n    alt: {\n      type: 'string',\n    },\n    title: {\n      type: 'string',\n    },\n    containerHeight: {\n      type: 'number',\n      default: 400\n    },\n    startPosition: {\n      type: 'number',\n      default: 5\n    },\n    gracefulFailure: {\n      type: 'bool',\n      default: true\n    },\n    failureMessage: {\n      type: 'string',\n      default: __('Scroll left/right to pan through panorama.')\n    },\n    displayMeta: {\n      type: 'bool',\n      default: false\n    }\n  },\n  supports: {\n    html: false\n  },\n  transforms: {\n    from: [\n      {\n        type: 'shortcode',\n        tag: 'easy_panorama',\n        attributes: {\n          id: {\n            type: 'number',\n            shortcode: ( { named: { id } } ) => {\n              return id;\n            },\n          },\n          url: {\n            type: 'string',\n            shortcode: ( { named: { url } } ) => {\n              return url;\n            },\n          },\n          title: {\n            type: 'string',\n            shortcode: ( { named: { title } } ) => {\n              return title;\n            },\n          },\n          alt: {\n            type: 'string',\n            shortcode: ( { named: { alt } } ) => {\n              return alt;\n            },\n          },\n          height: {\n            type: 'number',\n            shortcode: ( { named: { height } } ) => {\n              return height;\n            },\n          },\n          graceful_failure: {\n            type: 'bool',\n            shortcode: ( { named: { graceful_failure } } ) => {\n              return graceful_failure;\n            },\n          },\n          failure_message: {\n            type: 'string',\n            shortcode: ( { named: { failure_message } } ) => {\n              return failure_message;\n            },\n          },\n          failure_message_insert: {\n            type: 'string',\n            shortcode: ( { named: { failure_message_insert } } ) => {\n              return failure_message_insert;\n            },\n          },\n          meta: {\n            type: 'bool',\n            shortcode: ( { named: { meta } } ) => {\n              return meta;\n            },\n          },\n          minimum_overflow: {\n            type: 'number',\n            shortcode: ( { named: { minimum_overflow } } ) => {\n              return minimum_overflow;\n            },\n          },\n          start_position: {\n            type: 'number',\n            shortcode: ( { named: { start_position } } ) => {\n              return start_position;\n            },\n          },\n\n        },\n      },\n    ]\n  },\n\n  edit: PanoramaBlock,\n\n  save() {\n    // Rendering in PHP\n    return null;\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","const { __ } = wp.i18n;\n\nconst { Component } = wp.element;\n\nconst {\n  ImagePlaceholder,\n  BlockControls,\n  MediaUpload,\n  InspectorControls\n} = wp.blocks;\n\nconst {\n  Button,\n  Toolbar,\n  IconButton,\n  RangeControl,\n  ToggleControl,\n  TextControl,\n  PanelBody,\n  Dashicon,\n  Tooltip,\n  withAPIData,\n  Placeholder\n} = wp.components;\n\nclass PanoramaBlock extends Component {\n  constructor() {\n    super( ...arguments );\n    this.setImageData = this.setImageData.bind( this );\n    this.onSelectImage = this.onSelectImage.bind( this );\n    this.onChangeMediaAlt = this.onChangeMediaAlt.bind( this );\n    this.onChangeMediaTitle = this.onChangeMediaTitle.bind( this );\n    this.onChangeContainerHeight = this.onChangeContainerHeight.bind( this );\n    this.onChangeStartPosition = this.onChangeStartPosition.bind( this );\n    this.onChangeGracefulFailure = this.onChangeGracefulFailure.bind( this );\n    this.onChangeFailureMessage = this.onChangeFailureMessage.bind( this );\n    this.onChangeDisplayMeta = this.onChangeDisplayMeta.bind( this );\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { image } = this.props;\n    if(image.data) {\n      this.setImageData(image.data);\n    }\n  }\n\n  setImageData ( data ) {\n    const { attributes: { id, url, alt, title }, setAttributes } = this.props;\n    if( !url ) {\n      setAttributes( {\n        url: data.source_url\n      })\n    }\n    if( !alt ) {\n      setAttributes( {\n        alt: data.alt_text\n      })\n    }\n    if( !title ) {\n      setAttributes( {\n        title: data.title.rendered\n      })\n    }\n  }\n\n  onSelectImage( media ) {\n    this.props.setAttributes( {\n      url: media.url,\n      id: media.id,\n      alt: media.alt,\n      title: media.title\n    } );\n  };\n\n  onChangeMediaAlt( alt ){\n    this.props.setAttributes( {\n      alt: alt\n    } );\n  };\n\n  onChangeMediaTitle( title ) {\n    this.props.setAttributes( {\n      title: title\n    } );\n  };\n\n  onChangeContainerHeight(height) {\n    this.props.setAttributes( {\n      containerHeight: Number(height)\n    } );\n  };\n\n  onChangeStartPosition( position ) {\n    this.props.setAttributes( {\n      startPosition: position\n    } );\n  };\n\n  onChangeGracefulFailure() {\n    const { attributes: { gracefulFailure }, setAttributes } = this.props;\n    setAttributes( {\n      gracefulFailure: !gracefulFailure\n    } );\n  };\n\n  onChangeFailureMessage( message ) {\n    this.props.setAttributes( {\n      failureMessage: message\n    } );\n  }\n\n  onChangeDisplayMeta() {\n    const { attributes: { displayMeta }, setAttributes } = this.props;\n    setAttributes( {\n      displayMeta: !displayMeta\n    } );\n  }\n\n  render() {\n    const {\n      isSelected,\n      className,\n      image,\n      attributes: {\n        url,\n        id,\n        alt,\n        title,\n        containerHeight,\n        startPosition,\n        gracefulFailure,\n        failureMessage,\n        displayMeta\n      }\n    } = this.props;\n\n    const panoramaStyle = {\n      height: containerHeight + 'px'\n    };\n\n    if ( image.isLoading ) {\n      return [\n        <Placeholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className=\"easypanorama-loading\"\n        >\n          <span> { __( 'Loading...' ) } </span>\n        </Placeholder>,\n      ];\n    }\n\n    if(!url) {\n      return [\n        <ImagePlaceholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className={ className }\n          key=\"easypanorama-placeholder\"\n          onSelectImage={ this.onSelectImage }\n        />\n      ]\n    };\n\n    const controls = (\n      isSelected && (\n        <BlockControls key=\"easypanorama-controls\">\n          <Toolbar>\n            <MediaUpload\n              onSelect={ this.onSelectImage }\n              type=\"image\"\n              value={ this.id }\n              render={ ( { open } ) => (\n                <IconButton\n                  className=\"components-toolbar__control\"\n                  label={ __( 'Edit image' ) }\n                  icon=\"edit\"\n                  onClick={ open }\n                />\n              ) }\n            />\n          </Toolbar>\n        </BlockControls>\n      )\n    );\n\n    return [\n      controls,\n      isSelected && (\n        <InspectorControls key=\"easypanorama-inspector\">\n          <PanelBody title={ __( 'Panorama Settings' ) }>\n            <TextControl\n              label={ __( 'Panorama height' ) }\n              help={ __('Insert the height for this panoramic image container.') }\n              type={ 'number' }\n              value={ containerHeight }\n              onChange={ this.onChangeContainerHeight }\n            />\n            <RangeControl\n              label={ __( 'Start position' ) }\n              help={ __( 'Determines the start position of the panorama. Insert a value from 0 (left) to 10 (right).' ) }\n              value={ startPosition }\n              onChange={ this.onChangeStartPosition }\n              min={ 0 }\n              max={ 10 }\n            />\n            <ToggleControl\n              label={ __('Show alt/title meta on overlay') }\n              checked={ displayMeta }\n              onChange={ this.onChangeDisplayMeta }\n            />\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Title' ) }\n                help={ __('Give a title to this image, it will be displayed over the image. This is the alt meta of the image.') }\n                value={ alt }\n                onChange={ this.onChangeMediaAlt }\n              />\n            )}\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Description' ) }\n                help={ __('Give a description to this image, it will be displayed over the image. This is the title meta of the image.') }\n                value={ title }\n                onChange={ this.onChangeMediaTitle }\n              />\n            )}\n          </PanelBody>\n          <PanelBody title={ __('Advanced Settings')}>\n            <ToggleControl\n              label={ __('Insert failure message') }\n              checked={ gracefulFailure }\n              onChange={ this.onChangeGracefulFailure }\n            />\n            { gracefulFailure && (\n               <TextControl\n                label={ __( 'Failure message' ) }\n                help={ __('This message will appear in mobile devices with no gyroscopic data or no physical orientation support.') }\n                value={ failureMessage }\n                onChange={ this.onChangeFailureMessage }\n              />\n            )}\n          </PanelBody>\n        </InspectorControls>\n      ),\n      <div className={ className }>\n        <div style={ panoramaStyle } className=\"panorama--image\">\n          <img src={ url } alt={ alt } title={ title } />\n        </div>\n        <span className=\"panorama--help-text\">\n          <Tooltip text={ __( 'This is a preview, some features are not available.' ) }>\n            <span className=\"panorama--help-icon\">\n              <Dashicon size=\"25\" icon=\"info\" />\n            </span>\n          </Tooltip>\n        </span>\n      </div>\n    ];\n  }\n}\n\nexport default withAPIData( ( props ) => {\n  const { id } = props.attributes;\n  if ( !id ) {\n    return {};\n  }\n  return {\n    image: `/wp/v2/media/${ id }`,\n  };\n} )( PanoramaBlock );\n\n\n\n// WEBPACK FOOTER //\n// ./block.js"],"sourceRoot":""}