{"version":3,"sources":["webpack:///webpack/bootstrap a9af27ca9544a06a3981","webpack:///./block.js"],"names":["__","wp","i18n","blocks","registerBlockType","ImagePlaceholder","BlockControls","MediaUpload","InspectorControls","components","Button","Toolbar","IconButton","RangeControl","ToggleControl","TextControl","PanelBody","title","icon","category","attributes","mediaID","type","mediaURL","source","selector","attribute","containerHeight","default","startPosition","gracefulFailure","failureMessage","edit","isSelected","props","className","onSelectImage","setAttributes","media","url","id","panoramaStyle","height","onChangeContainerHeight","Number","onChangeStartPosition","position","onChangeGracefulFailure","onChangeFailureMessage","message","controls","open","save"],"mappings":"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","file":"block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9af27ca9544a06a3981","const { __ } = wp.i18n;\nconst {\n  registerBlockType,\n  ImagePlaceholder,\n  BlockControls,\n  MediaUpload,\n  InspectorControls\n} = wp.blocks;\nconst { Button, Toolbar, IconButton, RangeControl, ToggleControl, TextControl, PanelBody } = wp.components;\n\nregisterBlockType( 'easy-panorama/block', {\n  title: __( 'Panorama' ),\n  icon: 'format-image',\n  category: 'layout',\n  attributes: {\n    mediaID: {\n      type: 'number',\n    },\n    mediaURL: {\n      type: 'string',\n      source: 'attribute',\n      selector: 'img',\n      attribute: 'src',\n    },\n    containerHeight: {\n      type: 'number',\n      default: 400\n    },\n    startPosition: {\n      type: 'number',\n      default: 5\n    },\n    gracefulFailure: {\n      type: 'bool',\n      default: true\n    },\n    failureMessage: {\n      type: 'string',\n      default: __('Scroll left/right to pan through panorama.')\n    }\n  },\n  edit: props => {\n    const {\n      isSelected,\n      className,\n      attributes: {\n        mediaURL,\n        mediaID,\n        containerHeight,\n        startPosition,\n        gracefulFailure,\n        failureMessage\n      }\n    } = props;\n\n    const onSelectImage = media => {\n      props.setAttributes( {\n        mediaURL: media.url,\n        mediaID: media.id,\n      } );\n    };\n\n    const panoramaStyle = {\n      height: containerHeight + 'px'\n    };\n\n    const onChangeContainerHeight = (height) => {\n      props.setAttributes( {\n        containerHeight: Number(height)\n      } );\n    };\n\n    const onChangeStartPosition = (position) => {\n      props.setAttributes( {\n        startPosition: position\n      } );\n    };\n\n    const onChangeGracefulFailure = () => {\n      props.setAttributes( {\n        gracefulFailure: !gracefulFailure\n      } );\n    };\n\n    const onChangeFailureMessage = (message) => {\n      props.setAttributes( {\n        failureMessage: message\n      } );\n    }\n\n    if(!mediaURL) {\n      return [\n        <ImagePlaceholder\n          className={ className }\n          key=\"easypanorama-placeholder\"\n          icon=\"format-image\"\n          onSelectImage={ onSelectImage}\n        />\n      ]\n    };\n\n    const controls = (\n      isSelected && (\n        <BlockControls key=\"easypanorama-controls\">\n          <Toolbar>\n            <MediaUpload\n              onSelect={ onSelectImage }\n              type=\"image\"\n              value={ this.mediaID }\n              render={ ( { open } ) => (\n                <IconButton\n                  className=\"components-toolbar__control\"\n                  label={ __( 'Edit image' ) }\n                  icon=\"edit\"\n                  onClick={ open }\n                />\n              ) }\n            />\n          </Toolbar>\n        </BlockControls>\n      )\n    );\n\n    return [\n      controls,\n      isSelected && (\n        <InspectorControls key=\"easypanorama-inspector\">\n          <PanelBody\n            title={ __( 'Panorama Settings' ) }\n          >\n            <TextControl\n              label={ __( 'Panorama height' ) }\n              help={ __('Insert the height for this panoramic image container.') }\n              type={ 'number' }\n              value={ containerHeight }\n              onChange={ onChangeContainerHeight }\n            />\n            <RangeControl\n              label={ __( 'Start position' ) }\n              help={ __( 'Determines the start position of the panorama. Insert a value from 0 (left) to 10 (right).' ) }\n              value={ startPosition }\n              onChange={ onChangeStartPosition }\n              min={ 0 }\n              max={ 10 }\n            />\n            <ToggleControl\n              label={ __('Insert failure message') }\n              checked={ gracefulFailure }\n              onChange={ onChangeGracefulFailure }\n            />\n            <TextControl\n              label={ __( 'Failure message' ) }\n              help={ __('This message will appear in mobile devices with no gyroscopic data or no physical orientation support.') }\n              value={ failureMessage }\n              onChange={ onChangeFailureMessage }\n            />\n          </PanelBody>\n          <PanelBody\n            title={ __( 'Image Settings' ) }\n          >\n          </PanelBody>\n        </InspectorControls>\n      ),\n      <div className={ className }>\n        <div style={panoramaStyle} className=\"panorama-image\" data-paver data-start-position={startPosition} data-graceful-failure={gracefulFailure} data-failure-message={failureMessage}>\n            <img src={ mediaURL } />\n        </div>\n      </div>\n    ];\n  },\n  save: props => {\n    const {\n      className,\n      attributes: {\n        mediaURL,\n        containerHeight,\n        startPosition,\n        gracefulFailure,\n        failureMessage\n      }\n    } = props;\n    const panoramaStyle = {\n      height: containerHeight + 'px'\n    };\n\n    return (\n      <div className={ className }>\n        {\n          mediaURL && (\n            <figure>\n              <div className=\"easy-panorama\" data-start-position={startPosition} data-graceful-failure={gracefulFailure} data-failure-message={failureMessage} style={panoramaStyle}>\n                <img className=\"easy-panorama-image\" src={ mediaURL } />\n              </div>\n            </figure>\n          )\n        }\n      </div>\n    );\n  }\n} );\n\n\n\n// WEBPACK FOOTER //\n// ./block.js"],"sourceRoot":""}