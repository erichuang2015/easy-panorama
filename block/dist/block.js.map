{"version":3,"sources":["webpack:///webpack/bootstrap 5aaaf81c527564307fba","webpack:///./scripts/block.js"],"names":["__","wp","i18n","blocks","registerBlockType","ImagePlaceholder","BlockControls","MediaUpload","InspectorControls","createBlock","components","Button","Toolbar","IconButton","RangeControl","ToggleControl","TextControl","PanelBody","Dashicon","Tooltip","title","icon","category","attributes","mediaID","type","mediaURL","mediaAlt","mediaTitle","containerHeight","default","startPosition","gracefulFailure","failureMessage","displayMeta","supports","html","edit","isSelected","props","className","console","log","onSelectImage","setAttributes","media","url","id","alt","panoramaStyle","height","onChangeMediaAlt","onChangeMediaTitle","onChangeContainerHeight","Number","adjustStartPosition","position","onChangeStartPosition","onChangeGracefulFailure","onChangeFailureMessage","message","onChangeDisplayMeta","controls","open","save"],"mappings":"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","file":"block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5aaaf81c527564307fba","const { __ } = wp.i18n;\nconst {\n  registerBlockType,\n  ImagePlaceholder,\n  BlockControls,\n  MediaUpload,\n  InspectorControls,\n  createBlock\n} = wp.blocks;\nconst {\n  Button,\n  Toolbar,\n  IconButton,\n  RangeControl,\n  ToggleControl,\n  TextControl,\n  PanelBody,\n  Dashicon,\n  Tooltip,\n} = wp.components;\n\nregisterBlockType( 'easy-panorama/block', {\n  title: __( 'Panorama' ),\n  icon: 'format-image',\n  category: 'layout',\n  attributes: {\n    mediaID: {\n      type: 'number',\n    },\n    mediaURL: {\n      type: 'string',\n    },\n    mediaAlt: {\n      type: 'string',\n    },\n    mediaTitle: {\n      type: 'string',\n    },\n    containerHeight: {\n      type: 'number',\n      default: 400\n    },\n    startPosition: {\n      type: 'number',\n      default: 5\n    },\n    gracefulFailure: {\n      type: 'bool',\n      default: true\n    },\n    failureMessage: {\n      type: 'string',\n      default: __('Scroll left/right to pan through panorama.')\n    },\n    displayMeta: {\n      type: 'bool',\n      default: false\n    }\n  },\n  supports: {\n    html: false\n  },\n\n  edit: props => {\n    const {\n      isSelected,\n      className,\n      attributes,\n      attributes: {\n        mediaURL,\n        mediaID,\n        mediaAlt,\n        mediaTitle,\n        containerHeight,\n        startPosition,\n        gracefulFailure,\n        failureMessage,\n        displayMeta\n      }\n    } = props;\n    console.log(attributes);\n\n    const onSelectImage = media => {\n      props.setAttributes( {\n        mediaURL: media.url,\n        mediaID: media.id,\n        mediaAlt: media.alt,\n        mediaTitle: media.title\n      } );\n    };\n\n    const panoramaStyle = {\n      height: containerHeight + 'px'\n    };\n\n    const onChangeMediaAlt = (alt) => {\n      props.setAttributes( {\n        mediaAlt: alt\n      } );\n    };\n\n    const onChangeMediaTitle = (title) => {\n      props.setAttributes( {\n        mediaTitle: title\n      } );\n    };\n\n    const onChangeContainerHeight = (height) => {\n      props.setAttributes( {\n        containerHeight: Number(height)\n      } );\n    };\n\n    const adjustStartPosition = (position) => {\n      return position / 10;\n    };\n\n    const onChangeStartPosition = (position) => {\n      props.setAttributes( {\n        startPosition: position\n      } );\n    };\n\n    const onChangeGracefulFailure = () => {\n      props.setAttributes( {\n        gracefulFailure: !gracefulFailure\n      } );\n    };\n\n    const onChangeFailureMessage = (message) => {\n      props.setAttributes( {\n        failureMessage: message\n      } );\n    }\n\n    const onChangeDisplayMeta = () => {\n      props.setAttributes( {\n        displayMeta: !displayMeta\n      } );\n    }\n\n    if(!mediaURL) {\n      return [\n        <ImagePlaceholder\n          icon=\"format-image\"\n          label={ __( 'Panorama' ) }\n          className={ className }\n          key=\"easypanorama-placeholder\"\n          onSelectImage={ onSelectImage}\n        />\n      ]\n    };\n\n    const controls = (\n      isSelected && (\n        <BlockControls key=\"easypanorama-controls\">\n          <Toolbar>\n            <MediaUpload\n              onSelect={ onSelectImage }\n              type=\"image\"\n              value={ this.mediaID }\n              render={ ( { open } ) => (\n                <IconButton\n                  className=\"components-toolbar__control\"\n                  label={ __( 'Edit image' ) }\n                  icon=\"edit\"\n                  onClick={ open }\n                />\n              ) }\n            />\n          </Toolbar>\n        </BlockControls>\n      )\n    );\n\n    return [\n      controls,\n      isSelected && (\n        <InspectorControls key=\"easypanorama-inspector\">\n          <PanelBody title={ __( 'Panorama Settings' ) }>\n            <TextControl\n              label={ __( 'Panorama height' ) }\n              help={ __('Insert the height for this panoramic image container.') }\n              type={ 'number' }\n              value={ containerHeight }\n              onChange={ onChangeContainerHeight }\n            />\n            <RangeControl\n              label={ __( 'Start position' ) }\n              help={ __( 'Determines the start position of the panorama. Insert a value from 0 (left) to 10 (right).' ) }\n              value={ startPosition }\n              onChange={ onChangeStartPosition }\n              min={ 0 }\n              max={ 10 }\n            />\n            <ToggleControl\n              label={ __('Show alt/title meta on overlay') }\n              checked={ displayMeta }\n              onChange={ onChangeDisplayMeta }\n            />\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Title' ) }\n                help={ __('Give a title to this image, it will be displayed over the image. This is the alt meta of the image.') }\n                value={ mediaAlt }\n                onChange={ onChangeMediaAlt }\n              />\n            )}\n            { displayMeta && (\n              <TextControl\n                label={ __( 'Description' ) }\n                help={ __('Give a description to this image, it will be displayed over the image. This is the title meta of the image.') }\n                value={ mediaTitle }\n                onChange={ onChangeMediaTitle }\n              />\n            )}\n          </PanelBody>\n          <PanelBody title={ __('Advanced Settings')}>\n            <ToggleControl\n              label={ __('Insert failure message') }\n              checked={ gracefulFailure }\n              onChange={ onChangeGracefulFailure }\n            />\n            { gracefulFailure && (\n               <TextControl\n                label={ __( 'Failure message' ) }\n                help={ __('This message will appear in mobile devices with no gyroscopic data or no physical orientation support.') }\n                value={ failureMessage }\n                onChange={ onChangeFailureMessage }\n              />\n            )}\n          </PanelBody>\n        </InspectorControls>\n      ),\n      <div className={ className }>\n        <div style={panoramaStyle} className=\"panorama--image\">\n          <img src={ mediaURL } alt={ mediaAlt } title={ mediaTitle } />\n        </div>\n        <span className=\"panorama--help-text\">\n          <Tooltip text={ __( 'This is a preview, some features are not available.' ) }>\n            <span className=\"panorama--help-icon\">\n              <Dashicon size=\"25\" icon=\"info\" />\n            </span>\n          </Tooltip>\n        </span>\n      </div>\n    ];\n  },\n  save() {\n    // Rendering in PHP\n    return null;\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/block.js"],"sourceRoot":""}