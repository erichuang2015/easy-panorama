{"version":3,"sources":["webpack:///webpack/bootstrap 83b4e8c9d3aaf66c0ab5","webpack:///./block.js"],"names":["__","wp","i18n","blocks","registerBlockType","ImagePlaceholder","BlockControls","MediaUpload","components","Button","Toolbar","IconButton","title","icon","category","attributes","mediaID","type","mediaURL","source","selector","attribute","edit","isSelected","props","className","console","log","onSelectImage","setAttributes","media","url","id","controls","open","save","panoramaStyle","height"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;IC7DQA,E,GAAOC,GAAGC,I,CAAVF,E;iBAMJC,GAAGE,M;IAJLC,iB,cAAAA,iB;IACAC,gB,cAAAA,gB;IACAC,a,cAAAA,a;IACAC,W,cAAAA,W;qBAEsCN,GAAGO,U;IAAnCC,M,kBAAAA,M;IAAQC,O,kBAAAA,O;IAASC,U,kBAAAA,U;;;AAEzBP,kBAAmB,qBAAnB,EAA0C;AACxCQ,SAAOZ,GAAI,UAAJ,CADiC;AAExCa,QAAM,cAFkC;AAGxCC,YAAU,QAH8B;AAIxCC,cAAY;AACVC,aAAS;AACPC,YAAM;AADC,KADC;AAIVC,cAAU;AACRD,YAAM,QADE;AAERE,cAAQ,WAFA;AAGRC,gBAAU,KAHF;AAIRC,iBAAW;AAJH;AAJA,GAJ4B;AAexCC,QAAM,qBAAS;AAAA,QACLC,UADK,GACiCC,KADjC,CACLD,UADK;AAAA,QACOR,UADP,GACiCS,KADjC,CACOT,UADP;AAAA,QACmBU,SADnB,GACiCD,KADjC,CACmBC,SADnB;;AAEbC,YAAQC,GAAR,CAAYZ,UAAZ;AACA,QAAMa,gBAAgB,SAAhBA,aAAgB,QAAS;AAC7BJ,YAAMK,aAAN,CAAqB;AACnBX,kBAAUY,MAAMC,GADG;AAEnBf,iBAASc,MAAME;AAFI,OAArB;AAID,KALD;;AAOA,QAAG,CAACjB,WAAWG,QAAf,EAAyB;AACvB,aAAO,CACL,yBAAC,gBAAD;AACE,mBAAYO,SADd;AAEE,aAAI,0BAFN;AAGE,cAAK,cAHP;AAIE,uBAAgBG;AAJlB,QADK,CAAP;AAQD;;AAED,QAAMK,WACJV,cACE;AAAC,mBAAD;AAAA,QAAe,KAAI,uBAAnB;AACE;AAAC,eAAD;AAAA;AACE,iCAAC,WAAD;AACE,oBAAWK,aADb;AAEE,gBAAK,OAFP;AAGE,iBAAQ,MAAKZ,OAHf;AAIE,kBAAS;AAAA,gBAAIkB,IAAJ,QAAIA,IAAJ;AAAA,mBACP,yBAAC,UAAD;AACE,yBAAU,6BADZ;AAEE,qBAAQlC,GAAI,YAAJ,CAFV;AAGE,oBAAK,MAHP;AAIE,uBAAUkC;AAJZ,cADO;AAAA;AAJX;AADF;AADF,KAFJ;;AAsBA,WAAO,CACLD,QADK,EAEL;AAAA;AAAA,QAAK,WAAYR,SAAjB;AACE;AAAA;AAAA,UAAK,WAAU,gBAAf;AACI,0CAAK,KAAMV,WAAWG,QAAtB;AADJ;AADF,KAFK,CAAP;AAQD,GAlEuC;AAmExCiB,QAAM,qBAAS;AAAA,QAEXV,SAFW,GAMTD,KANS,CAEXC,SAFW;AAAA,QAITP,QAJS,GAMTM,KANS,CAGXT,UAHW,CAITG,QAJS;;;AAQb,QAAMkB,gBAAgB;AACpBC,cAAQ;AADY,KAAtB;;AAIA,WACE;AAAA;AAAA,QAAK,WAAYZ,SAAjB;AAEIP,kBACE;AAAA;AAAA,UAAK,WAAU,eAAf,EAA+B,OAAOkB,aAAtC;AACE,0CAAK,WAAU,qBAAf,EAAqC,KAAMlB,QAA3C;AADF;AAHN,KADF;AAWD;AA1FuC,CAA1C,E","file":"block.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 83b4e8c9d3aaf66c0ab5","const { __ } = wp.i18n;\nconst {\n  registerBlockType,\n  ImagePlaceholder,\n  BlockControls,\n  MediaUpload\n} = wp.blocks;\nconst { Button, Toolbar, IconButton } = wp.components;\n\nregisterBlockType( 'easy-panorama/block', {\n  title: __( 'Panorama' ),\n  icon: 'format-image',\n  category: 'layout',\n  attributes: {\n    mediaID: {\n      type: 'number',\n    },\n    mediaURL: {\n      type: 'string',\n      source: 'attribute',\n      selector: 'img',\n      attribute: 'src',\n    }\n  },\n  edit: props => {\n    const { isSelected, attributes, className } = props;\n    console.log(attributes);\n    const onSelectImage = media => {\n      props.setAttributes( {\n        mediaURL: media.url,\n        mediaID: media.id,\n      } );\n    };\n\n    if(!attributes.mediaURL) {\n      return [\n        <ImagePlaceholder\n          className={ className }\n          key=\"easypanorama-placeholder\"\n          icon=\"format-image\"\n          onSelectImage={ onSelectImage}\n        />\n      ]\n    }\n\n    const controls = (\n      isSelected && (\n        <BlockControls key=\"easypanorama-controls\">\n          <Toolbar>\n            <MediaUpload\n              onSelect={ onSelectImage }\n              type=\"image\"\n              value={ this.mediaID }\n              render={ ( { open } ) => (\n                <IconButton\n                  className=\"components-toolbar__control\"\n                  label={ __( 'Edit image' ) }\n                  icon=\"edit\"\n                  onClick={ open }\n                />\n              ) }\n            />\n          </Toolbar>\n        </BlockControls>\n      )\n    );\n\n    return [\n      controls,\n      <div className={ className }>\n        <div className=\"panorama-image\">\n            <img src={ attributes.mediaURL } />\n        </div>\n      </div>\n    ];\n  },\n  save: props => {\n    const {\n      className,\n      attributes: {\n        mediaURL\n      }\n    } = props;\n\n    const panoramaStyle = {\n      height: '400px'\n    };\n\n    return (\n      <div className={ className }>\n        {\n          mediaURL && (\n            <div className=\"easy-panorama\" style={panoramaStyle}>\n              <img className=\"easy-panorama-image\" src={ mediaURL } />\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n} );\n\n\n\n// WEBPACK FOOTER //\n// ./block.js"],"sourceRoot":""}